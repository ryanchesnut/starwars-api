import { getAllPlanets } from './example'

describe('getAllPlanets', () => {
  it('should throw an error if numberOfPlanets is not provided', async () => {
    await expect(getAllPlanets(null)).rejects.toThrow('Must have a number of planets')
  })

  it('should return an array of planets', async () => {
    const result = await getAllPlanets(2)
    expect(Array.isArray(result)).toBe(true)
    expect(result.length).toBe(2)
    expect(result[0]).toHaveProperty('name')
    expect(result[0]).toHaveProperty('population')
    expect(result[0]).toHaveProperty('terrain')
  })

  it('should return null if an error occurs', async () => {
    const result = await getAllPlanets(999999999)
    expect(result).toBe(null)
  })
})
